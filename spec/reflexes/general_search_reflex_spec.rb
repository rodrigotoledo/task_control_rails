require "rails_helper"

RSpec.describe GeneralSearchReflex, type: :reflex do
  # let(:project1) { create(:project) }
  # let(:project2) { create(:project) }

  # describe "#search" do
  #   context "when query is nil" do
  #     let(:reflex) { build_reflex(method_name: :search, reflex_data: { current_controller: "projects" }) }

  #     it "morph posts" do
  #       subject = reflex.run
  #       expect(subject).to morph("#projects")
  #     end
  #   end

  # context "when query is present" do
  #   let(:query) { "Project" }

  #   it "renders filtered projects" do
  #     expect(Project).to receive(:where).with("title ILIKE ?", "%Project%").and_return(Project)
  #     expect(controller).to receive(:morph).with("#projects", "rendered_content")
  #     subject
  #   end
  # end
  # end
end
